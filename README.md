# BRASCA v0.5.1

**BRASCA - BRAckets and other Symbols turning Code into Ascii**  
`i tried my best with the acronym, okay`

## Installation & Usage

* Get [Python 3](http://www.python.org)
* Run your code with `python brasca.py c <your code>` or `python brasca.py f <filename>`.
* Use `python brasca.py cd/fd <code/file>` for debugging the stack.
* Use `python brasca.py cs/fs <code/file>` to slow down the output.
* Use `python brasca.py cds/fds <code/file>` for both.

## Online interpreters
[TIO](https://tio.run/##zVt7c9s2Ev9fnwK1r5VUS7acR5P4LLd2kl7d1nHGdud643FZSIQkpiTBkKBlTx9fPbcLPkSQkAjGT8@0sUlg97dPLIBlcC1m3H/6Mgg/OV7AQ0Gi66hHPCpmrUnIPSIcj5HslctYkDwOqW/DP@kL/Av@m7JW@kCEdMxGdPxHqzV2aRSRg5BGY/oaf99pEfhZW1s7FTCgR0I2dSLBwogAFXJJQ4eOXBbBADnQZhNiWY7vCMvqRMyddHda8gX@rEsacmJOJn@JgzcjOWBIzi/U5xSeDdRHI@XRgsd@yMicAQNqO/6UsEsWgtbwVxqR8YyCrMj32zLjEIZYHrcZ0P2euhEr4H7vBMzuOz6xqaD5Y2dCfC5NANOB2aYTUSGuO92dfEiBPgywcDqQX8xAlJ3u@c5Of/tCmTThIbF6xCLAlPmxx0IqWKdEqsRIwwztFcWuQKbqm3Nk2as8LeNQLbNJg4D5doeHdich3O3mwxnorE5y8JKFVn@g6ESpcUaM@SQAIwhmk2smSvahLqrq2spGVG10NnMiMndcl0SCgw9Q@E3MGBmBwf9gggQ8coTD/ZLHzWeOyyyX8yACon/@rVBkZIwOgQ6LpAKOzEOVAI6w0jdVLx0nDlWUWz6HyHOdMUQJ2DYXRj9C8EAVd/19HM0ITBwBR8ElNGmePAIDGGAlA6TP9HB0wVuqFsX3ReqX1I0Z4ZNFxCAnDRd8n/LAX1cyQbeRg7rLBRlxISBVAeeVYlnJuDrpHD9ioegMkiH1AhohwBkq/@WSLwBUhQe7yuxcYsGDLHGWE01OVg2zkIk49AueV43EdEgBGLJJYreEplYFPCgKfw8wB5nGTiGMEVC2eOSYIias7GFqkuxPFV/2lAwhJumaJl3RLFUuFJRgLc8e6WaPqrMLPlfE3o5SF9QGMCa725JICcFExq5e7kFTcaukR129UgapCU9wPY6YVmT5puxUBT7ZiG5OS3oLknKZPxUzvcMm78p0U1eDl50Fi0Joxi4suJKaXCEIrhDEBX2QTnnd6OasRrHj2snDMj/BvEAtbPCJBXWHUnOoL2FhdNnHmAumWAeLg2w5g@TDPQ9XqGqlgItPqUYAs1ZI75FBtZCojOoPybYySvpIFedwObWSrGVgmSDobudryaqrzEsn6slnbpgpplsFW2Rw0YgBeEeIRZRkpGaGZdXEuZxzAZMyRPVTspE4S05fLUN7rVbTZ2HM6m07JE9Wc/q9sTmKwyogTOnjxHryqTe1cA9yeg0ZyyM0nEIk@AK2L4HcM2EZCFuazeCaTMjuBFTuU4/tVd@OyS6GzV6rdcYhnnBzA6E9iqc9EkPemthbYww14EJtzDeTrfEmDo1cPic2n/uExyKIRTo82hpHEpiD@yLkaVlSYsvyKNTFVmrCBAAYorD1Sp0sxZZXkmufPqVbsiRZkQPMOkkaxCTl0aA4r5iTsvxGjoC3HC3/TjJcgU9ez@7KBFl4U8xo4bVqm9ygRVLnGrIX5chPxyibsKXeVXmwTuTqugvJb0@tUlckmIEmdgpaK1bQg2qwVxx425zctgG5J@bknhiQe2pO7qkBuWfm5J4ZkHtuTu65AblvzMl9Y0DuhTm5FwbkXpqTe2lA7pU5uVcG5NwGbmwSFj83oGfieaxBXJgY922DwDAJNLtBZJiY900DXzaJjVkDdzHx5h@a@IuJw/zUiKAJxT/Xdsj6GzYOGRYEpsSzR1jq9U0y9t/I5tC/AZsNEzYhspHL3Yk8wdXxoYsVWF@qSjAmg3Cj4eDGQh4Xd0Y9QgGl3kJLJHS6reqCLQVIVnsokGY0rBW8/Xt7pWOo57faqteofC5LIY@3asqZje2L7ipCSkW1gduoqkaOKG5fA9y88cKh@FLsG@gH@7Z9xw6gc9kNauCnfcR3Go/wakE8AMi@CcivEeRR7AoncK8fAOTXJiC3ksQi2BS8x3YunUi3lbx7sFtbJmi/lCrlduzyB8D4pQnE3xDi26uA@8sS9R1b3cjskQygj@FNEFaZ403h5gQ2fumvETDo0G5Xl6QPHDF3YA/bICv9g6DfHZ/dKuZ/TNT1lcyH7948gD2/MsH3F@I7PnkAeH@ZwLMQ3q8Pgu83wKfxvlPtJr4CnCLwQB6u88WB9f7KUqF4WQAEDNQz0nI5MOcyMuGyL7lk9zBmwqgXBWbSHOj5HDTgYyRPD/mkh/ZLDmUUDtnpfi3hHSRsx3g/Kg/pQRQ@WcHhczMPvcnICup/q6gXd2ymwLNrN1NU2Xh6CxMq0ngojccvVfVjfCREtCyTG6/PMkaGTZIwwHeU4yspWl64pQef9fia6twYX1CjP@LLZp5I7xcej31huoPzFzu4QS@ZumIPZ2yj27HT@xo7PSI9rPaFG/rDtzJZJn1aaUfEoL/95IWp3@VNXR3YZ5bPFboGAL7I17jFZWpt0tacZaTXrSYs/4UsozkNpKHFnBNHMC8i3L9xMr/zjD8ykO9E2pSLbJESs5Cx@5VxfOeKGN9EZdr7nIoeT1GPY@7juunnygR3SQhH9@8nGGORQJE28B9qFGHTshjLHSDtFkA27fbmB@74kp3fXSSy/OAL@xaWJ70xpjlIJoXUV7jSS2fXn@g1UQ6CN1CHk6oDyj5BgIjjYMpPc1@nrzsfV4TqpSla6XtQ5FouFkBJJu8NybOXaSsr/r07JM9fLJ@nnDgCi3OJBK/r5XQAXS/3YVHuRfNbooHOxr3JPVDFfvXZUgPkVr3YV7L8dYBIaNeX7Cv9rkL71yJtk8LaZFGvcImRyy9@/1RL0jctQ2SnThLNzU7SIRnYJnnmlxTndCnOYk65SnLKVSWntOrcQG1num0xNWcCh1vHBo7G5VGLbMLAlu/909eHh2lrY53XLVoRKv3GS9sRSqJUG5W1lxH4I4d0xjP1Gqjbg7C2h@22gaWPl4pqEgQPL20efE2E9lWh0wz6eA1cNG4DMd8tF/OxGldj2IXAmnh@zX0Rcpd87/J5vUJ2USE/syiCOpre9Q0Iqm@XNkpc23pKzETVTduN9lAX/wHzyL71@1HH3uNVx1Be6XyMwa3vQRHD4aPVRPt/bdDEARNzxvzHsLVEfWF1Ocb/PV4H@g4d6IyFnoMbs9btJEX8zItdOcKktlxHAJAPbdn/S13yIfaCmsQutY56HdTqo9qCUIvoAyL6EVBgNTeHwjpq0uOg9s/Uc/sx54bfITZj11fZbRiwO0d2/8W2177sma02W1fVndS8X2DRu3KDpeyU@tsXNRZaJlUuVLFBvLaZVivtRUlaWJLvSta9OxXVxJNer@7qKX14Z9YpdGZIM/lUT9JsqTuX5MMUKUUQMnkgE@XfqOJ3kGk7VLVNXt8bre@MXz/Db1ocAaXhhMxnzIctPgfGoYwq4YBNge0Edu92TX90s34r9duVHM0xspY9BPJc2REt82ReacJKwZU6FdaP5BVK9qVm@QtNoxTIrsYsEOQndj3ikHiw1yYM40CUPniqZvN04lv5D6RtNGRJnPVT7rHkC9c58wWZh9yf9vAkmM/BOAQ4cRVuUkqvvT05OT7ZIbrppbvXZEL@DfcmpGuPCgvAlQ/hCyIk3wEcpo6bfrPQarpxWIxVQgB8TLPDWHnPe4OjSjpcWYVoMGLo6zFWN6u0bs@2hLg@QBe0aZWsllyqzyq5FWI3Frle3OaiLhUTfz79Hw)
[JS-based](https://sjoerdpennings.github.io/brasca-online/)

## Data

* Data is stored as numbers on a stack.
* Popping an empty stack returns 0.
* Two registers: A and B.

## Commands

### Math Operators

|Operator|Function|
|-------|-------|
|`0-9`|Push the number to the stack|
|`l`|Push 10 to the stack|
|`L`|Push 13 to the stack|
|`e`|Push 26 to the stack|
|`E`|Push 32 to the stack|
|`d`|Push 48 to the stack|
|`D`|Push 65 to the stack|
|`h`|Push 97 to the stack|
|`H`|Push 100 to the stack|
|`K`|Push 1000 to the stack|
|`` ` ``|Push all following characters to the stack until another backtick or EOF|
|`'`|Push the next character to the stack|
|`+`|Pop A,B from the stack, push B+A to the stack|
|`-`|Pop A,B from the stack, push B-A to the stack|
|`*`|Pop A,B from the stack, push B\*A to the stack|
|`/`|Pop A,B from the stack, push B\/A to the stack|
|`%`|Pop A,B from the stack, push B%A to the stack|
|`^`|Pop A,B from the stack, push B\*\*A to the stack|
|`s`|Pop A from the stack, push sqrt(A) to the stack|
|`}`|Increment top of stack|
|`{`|Decrement top of stack|
|`r`|Pop A,B from the stack, push range(B,A), inclusive, to the stack.|

### Bitwise Operators

|Operator|Function|
|-------|-------|
|`~`|Pop A from the stack, push NOT A to the stack|
|`&`|Pop A,B from the stack, push B AND A to the stack|
|`\|`|Pop A,B from the stack, push B OR A to the stack|
|`_`|Pop A,B from the stack, push B XOR A to the stack|

### Stack

|Operator|Function|
|-------|-------|
|`a`|Pop the stack, push it to register A|
|`A`|Pop register A, push it to the stack|
|`b`|Pop the stack, push it to register B|
|`B`|Pop register B, push it to the stack|
|`,`|Reverse stack|
|`:`|Duplicate the top of the stack|
|`;`|Duplicate the bottom of the stack|
|`m`|Pop the top of the stack and push the value to BOS|
|`M`|Pop the bottom of the stack and push the value to TOS|
|`p`|Pop n from the top of the stack and push the top n items on the stack to BOS|
|`P`|Pop n from the bottom of the stack and push the bottom n items on the stack to TOS|
|`?`|Pop n from the top of the stack and push a random number from 0 to n (inclusive) to the stack|
|`!`|Push the length of the stack to the stack|
|`$`|Swap the top two items on the stack|
|`R`|Rotate the top three items on the stack|
|`S`|Pop A,B from the stack, concatenate B and A, push the result to stack|
|`x`|Pop the top of the stack and discard it|
|`X`|Pop the bottom of the stack and discard it|
|`i`|Convert stack from ASCII to number|
|`I`|Convert stack from number to ASCII|
|`g`|Concatenate stack together|
|`u`|Pop A from the stack, split into individual digits and push to stack (Un-`S`)|
|`U`|Split the entire stack into individual digits (Un-`g`)|

### I/O

|Operator|Function|
|-------|-------|
|Implicit input|If there's any data piped in via STDIN, it's pushed on the stack by default|
|`o`|Output the top of the stack to STDOUT as ASCII|
|`O`|Output the bottom of the stack to STDOUT as ASCII|
|`n`|Output the top of the stack to STDOUT as a number|
|`N`|Output the bottom of the stack to STDOUT as a number|
|`C`|Make implicit output print everything as number instead of ASCII|
|`T`|Make implicit output print only the top of the stack|
|Implicit output|If nothing is printed before termination, output the stack in reverse as ASCII.|

### Control Flow

|Operator|Function|
|-------|-------|
|`<`|Pop A,B from the stack, push 1 to the stack if B < A, else push 0 to the stack|
|`>`|Pop A,B from the stack, push 1 to the stack if B > A, else push 0 to the stack|
|`=`|Pop A,B from the stack, push 1 to the stack if B == A, else push 0 to the stack|
|`Y`|Pop A,B,C from the stack, push 1 to the stack if B <= C <= A, else push 0 to the stack|
|`@`|Terminate program without implicit output.|
|`#`|Pop A from the stack, if A > 0, execute the next instruction, otherwise skip it.|
|`[...]`    |Check, but don't pop, the top of the stack. While it is non-zero, loop the code inside \[ \]|
|`j`|Pop n from the stack, move the code pointer n cells backwards|
|`J`|Pop n from the stack, move the code pointer n cells forwards|
|Anything else|No-op|
